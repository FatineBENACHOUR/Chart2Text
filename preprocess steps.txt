#pip install spacy, nltk

#python -m spacy download en_core_web_lg

pytorch 1.5 breaks compatability with cuda 10.1. Use pytorch 1.4 on compute canada
run preprocess.py to preprocess data and create split sets from scraped .csv and .txt files

python3 extract_vocab.py --table ../data/fineTune/data.txt --summary ../data/fineTune/summary.txt

python3 preprocess_table_data.py --table ../data/fineTune/data.txt --table_vocab ../data/fineTune/data.txt_vocab --table_label ../data/fineTune/dataLabel.txt

python3 preprocess_summary_data.py --summary ../data/fineTune/summary.txt --summary_vocab ../data/fineTune/summary.txt_vocab --summary_label ../data/fineTune/summaryLabel.txt

extract vocab for each set: run xlm preprocess script for each file:
cd scripts
python3 extract_vocab.py --table ../data/valid/validData.txt --summary ../data/valid/validSummary.txt
python3 extract_vocab.py --table ../data/test/testData.txt --summary ../data/test/testSummary.txt
python3 extract_vocab.py --table ../data/train/trainData.txt --summary ../data/train/trainSummary.txt



cd ../model
python3 preprocess_table_data.py --table ../data/valid/validData.txt --table_vocab ../data/valid/validData.txt_vocab --table_label ../data/valid/validDataLabel.txt
python3 preprocess_table_data.py --table ../data/test/testData.txt --table_vocab ../data/test/testData.txt_vocab --table_label ../data/test/testDataLabel.txt
python3 preprocess_table_data.py --table ../data/train/trainData.txt --table_vocab ../data/train/trainData.txt_vocab --table_label ../data/train/trainDataLabel.txt


python3 preprocess_summary_data.py --summary ../data/valid/validSummary.txt --summary_vocab ../data/valid/validSummary.txt_vocab --summary_label ../data/valid/validSummaryLabel.txt
python3 preprocess_summary_data.py --summary ../data/test/testSummary.txt --summary_vocab ../data/test/testSummary.txt_vocab --summary_label ../data/test/testSummaryLabel.txt
python3 preprocess_summary_data.py --summary ../data/train/trainSummary.txt --summary_vocab ../data/train/trainSummary.txt_vocab --summary_label ../data/train/trainSummaryLabel.txt




#if you get dictionary assertion error from loading dataOld: delete .pth files